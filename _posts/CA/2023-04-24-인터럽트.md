---
layout: single
categories: CA
---
# 인터럽트
인터럽트는 cpu의 작업을 방해하는 신호를 의미한다
인터럽트의 종류에는 크게 synchronous interrupts 와 asynchronous interrupts가 있다 synchronus interrupts 는 exception이라고도 부른다.
#   synchronous interrupts(exception)
cpu에 의해 발생하는 인터럽트이며 cpu가 명령어들을 수행하다가 예상치 못한 상황에 마주쳤을 때 발생하는 인터럽트이다
예상치 못한 상황에 발생하는 인터럽트라는 의미에서 exception이라고도 부른다.
## 예외의 종류
- fault   
예외를 처리한 직후 예외가 발생한 명령어 부터 실행을 재개하는 예외이다.
- trap  
예외를 처리한 직후 예외가 발생한 명령어의 다음 명령어 부터 실행을 재개하는 예외이다,주로 디버깅할때 사용한다.
- abort    
CPU가 실행중인 프로그램을 강제로 중단시킬 수밖에 없는 심각한 오류를 발견했을때 발생하는 오류이다.
# asynchronous interrupts(hardware interrupts)
주로 입출력 장치에 의해 발생하는 인터럽트이며 알림 역할을 한다.하드웨어 인터럽트라고 부른다.
이 하드웨어 인터럽트는 CPU가 다른 일을 하고 있을떄 인터럽트를 보내 자신의 일을 우선적으로 처리할수 있게 한다.
하드웨어 인터럽트 처리 순서는 다음과 같이 이루어진다
> - 입출력 장치는 CPU에 인터럽트 요청 신호를 보낸다
>- CPU는 fetch 사이클이 끝나고 명령어를 인출하기전 항상 인터럽트 여부를 확인한다.
>- CPU는 인터럽트 요청을 확인하고 인터럽트 플래그를 통해 현재 인터럽트를 받아들일 수 있는지 여부를 확인한다.
>- 인터럽트를 받아들일수 있다면 CPU는 지금까지의 작업을 백업한다.
>- CPU는 인터럽트 벡터를 참조하여 인터럽틀 서비스 루틴을 실행한다.
>- 인터럽트 서비스 루틴 실행이 끝나면 백없해둔 작업을 복구하여 실행을 재개한다.

- 인터럽트 벡터(interrupt vector)  
인터럽트 서비스 루틴을 식별하기 위한 정보이다.인터럽트 서비스 루틴의 시작주소가 담겨져 있다.
CPU는 하드웨어 인터럽트 요청을 보낸 대상으로부터 데이터 버스를 통해 인터럽트 벡터를 전달받는다.


- 인터럽트 서비스 루틴(ISR;Interrupts Service Routine)   
인터럽트를 실행하기 위한 프로그램이다.Inteerrupt handler 라고도 부른다.



# software interrupt
-  system call  
운영체제 서비스를 제공받기 위해 사용자 모드에서 커널 모드로 전환하기위해 운영체제에 보내는 인터럽트이다.